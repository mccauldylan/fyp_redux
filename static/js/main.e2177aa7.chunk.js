(this.webpackJsonpview=this.webpackJsonpview||[]).push([[0],{209:function(e,t,a){},352:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(16),c=a.n(o),i=a(25),s=a(10),l=a(11),d=a(13),j=a(12),p=a(40),u=a(18),h=(a(209),a(175)),b=a(182),O=a.n(b),x=a(183),f=a(15),m=a(59),g=a(177),y=a(52),v=a(7),w={authenticated:!1,credentials:{},approves:[],disapproves:[]},I={categories:[],category:[],row:{},loading:!1},C={loading:!1,errors:null},S=[g.a],R=Object(m.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTHENTICATED":return Object(v.a)(Object(v.a)({},e),{},{authenticated:!0});case"SET_UNAUTHENTICATED":return w;case"SET_USER":return{authenticated:!0,loading:!1,credentials:t.payload.credentials,approves:t.payload.approves,disapproves:t.payload.disapproves};case"LOADING_USER":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"APPROVE_ROW":return Object(v.a)(Object(v.a)({},e),{},{approves:[].concat(Object(y.a)(e.approves),[{username:e.credentials.username,rowId:t.payload.rowId}])});case"DISAPPROVE_ROW":return Object(v.a)(Object(v.a)({},e),{},{disapproves:[].concat(Object(y.a)(e.disapproves),[{username:e.credentials.username,rowId:t.payload.rowId}])});case"UNAPPROVE_ROW":return Object(v.a)(Object(v.a)({},e),{},{approves:e.approves.filter((function(e){return e.rowId!==t.payload.rowId}))});case"UNDODISAPPROVE_ROW":return Object(v.a)(Object(v.a)({},e),{},{disapproves:e.disapproves.filter((function(e){return e.rowId!==t.payload.rowId}))});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_DATA":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"SET_CATEGORIES":return Object(v.a)(Object(v.a)({},e),{},{categories:t.payload,loading:!1});case"SET_CATEGORY":return Object(v.a)(Object(v.a)({},e),{},{category:t.payload,loading:!1});case"SET_ROW":return Object(v.a)(Object(v.a)({},e),{},{row:t.payload,loading:!1});case"POST_ROW":return Object(v.a)(Object(v.a)({},e),{},{category:[t.payload].concat(Object(y.a)(e.category))});case"EDIT_ROW":return Object.assign({},e,{category:e.category.map((function(e){return e.rowId===t.payload.rowId?t.payload:e}))});case"DELETE_ROW":return Object(v.a)(Object(v.a)({},e),{},{category:e.category.filter((function(e){return e.rowId!==t.payload}))});case"APPROVE_ROW":case"UNAPPROVE_ROW":case"DISAPPROVE_ROW":case"UNDODISAPPROVE_ROW":var a=e.category.findIndex((function(e){return e.rowId===t.payload.rowId}));return e.category[a]=t.payload,Object(v.a)({},e);case"POST_OPTION":return Object(v.a)(Object(v.a)({},e),{},{row:Object(v.a)(Object(v.a)({},e.row),{},{options:[t.payload].concat(Object(y.a)(e.row.options))})});case"DELETE_OPTION":var n=e.row.option.findIndex((function(e){return e.optionId===t.payload}));return Object(v.a)(Object(v.a)({},e),{},{row:Object(v.a)(Object(v.a)({},e.row),{},{options:[].concat(Object(y.a)(e.row.options.slice(0,n)),Object(y.a)(e.row.options.slice(n+1)))})});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERRORS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,errors:t.payload});case"CLEAR_ERRORS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,errors:null});case"LOADING_UI":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"STOP_LOADING_UI":return Object(v.a)(Object(v.a)({},e),{},{loading:!1});default:return e}}}),T=Object(m.e)(R,{},Object(m.d)(m.a.apply(void 0,S),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),E=a(20),A=a.n(E),_=function(){return function(e){localStorage.removeItem("FBIdToken"),delete A.a.defaults.headers.common.Authorization,e({type:"SET_UNAUTHENTICATED"})}},N=function(){return function(e){e({type:"LOADING_USER"}),A.a.get("/user").then((function(t){e({type:"SET_USER",payload:t.data})}))}},D=function(e){var t="Bearer ".concat(e);localStorage.setItem("FBIdToken",t),A.a.defaults.headers.common.Authorization=t},U=a(82),k=a.n(U),P=a(379),W=a(381),L=a(382),G=a(1),V=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(G.jsx)(P.a,{children:Object(G.jsxs)(W.a,{className:"nav-container",children:[Object(G.jsx)(L.a,{color:"inherit",component:k.a,to:"/login",children:"Login"}),Object(G.jsx)(L.a,{color:"inherit",component:k.a,to:"/",children:"Home"}),Object(G.jsx)(L.a,{color:"inherit",component:k.a,to:"/signup",children:"Signup"}),Object(G.jsx)(L.a,{color:"inherit",component:k.a,to:"/dashboard",children:"Dashboard"})]})})}}]),a}(n.Component),B=a(184),z=Object(f.b)((function(e){return{authenticated:e.user.authenticated}}))((function(e){var t=e.component,a=e.authenticated,n=Object(B.a)(e,["component","authenticated"]);return Object(G.jsx)(u.Route,Object(v.a)(Object(v.a)({},n),{},{render:function(e){return!0===a?Object(G.jsx)(u.Redirect,{to:"/"}):Object(G.jsx)(t,Object(v.a)({},e))}}))})),q=a(390),F=a(185),X=a(57),H=a.n(X),M=a(383),Y=a(385),J=a(384),K=a(61),Q=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLogout=function(){e.props.logoutUser(),window.location.href="/login"},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props.user,t=e.credentials,a=e.authenticated;return e.loading?Object(G.jsx)("p",{children:"loading..."}):a?Object(G.jsx)(F.a,{children:Object(G.jsx)("div",{children:Object(G.jsxs)(M.a,{children:[Object(G.jsxs)(J.a,{children:[Object(G.jsx)(K.a,{color:"textSecondary",gutterBottom:!0,children:"Welcome,"}),Object(G.jsxs)(K.a,{variant:"h5",component:"h2",children:[t.firstName,"\xa0",t.lastName]}),Object(G.jsx)(K.a,{color:"textSecondary",children:t.profession})]}),Object(G.jsx)(Y.a,{children:Object(G.jsx)(L.a,{onClick:this.handleLogout,size:"small",children:"Logout"})})]})})}):Object(G.jsx)("p",{children:"placeholder"})}}]),a}(n.Component),Z=Object(f.b)((function(e){return{user:e.user}}),{logoutUser:_})(H()()(Q)),$=function(){return function(e){e({type:"CLEAR_ERRORS"})}},ee=a(387),te=a(386),ae=a(388),ne=a(389);function re(e){return Object(G.jsx)(te.a,Object(v.a)({button:!0,component:"a"},e))}var oe=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getCategories()}},{key:"render",value:function(){var e=this.props.data,t=e.categories,a=e.loading?Object(G.jsx)("p",{children:"Loading..."}):t.map((function(e){return Object(G.jsx)(F.a,{elevation:0,children:Object(G.jsxs)(ee.a,{disablePadding:!0,children:[Object(G.jsx)(re,{href:"/categories/".concat(e.categoryId),children:Object(G.jsx)(ae.a,{primary:e.name})}),Object(G.jsx)(ne.a,{})]})})}));return Object(G.jsxs)(q.a,{container:!0,spacing:10,children:[Object(G.jsx)(q.a,{item:!0,sm:4,children:a}),Object(G.jsx)(q.a,{item:!0,sm:4}),Object(G.jsx)(q.a,{item:!0,sm:4,children:Object(G.jsx)(Z,{})})]})}}]),a}(n.Component),ce=Object(f.b)((function(e){return{data:e.data}}),{getCategories:function(){return function(e){e({type:"LOADING_DATA"}),A.a.get("/category").then((function(t){e({type:"SET_CATEGORIES",payload:t.data})})).catch((function(t){e({type:"SET_CATEGORIES",payload:[]})}))}}})(oe),ie=a(409),se=a(392),le=a(406),de=a(394),je=a(391),pe=a(393),ue=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(i.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t={email:n.state.email,password:n.state.password};n.props.loginUser(t,n.props.history)},n.state={email:"",password:"",errors:[]},n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,n=this.state.errors;return Object(G.jsxs)(je.a,{component:"main",maxWidth:"xs",children:[Object(G.jsx)(se.a,{}),Object(G.jsxs)("div",{className:t.paper,children:[Object(G.jsx)(ie.a,{className:t.avatar}),Object(G.jsx)(K.a,{component:"h1",variant:"h5",children:"Login"}),Object(G.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(G.jsx)(le.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,helperText:n.email,error:!!n.email,onChange:this.handleChange}),Object(G.jsx)(le.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:n.password,error:!!n.password,onChange:this.handleChange}),Object(G.jsxs)(L.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:this.handleSubmit,disabled:a||!this.state.email||!this.state.password,children:["Sign In",a&&Object(G.jsx)(pe.a,{size:30,className:t.progess})]}),Object(G.jsx)(q.a,{container:!0,children:Object(G.jsx)(q.a,{item:!0,children:Object(G.jsx)(de.a,{href:"signup",variant:"body2",children:"Don't have an account? Sign Up"})})}),n.general&&Object(G.jsx)(K.a,{variant:"body2",className:t.customError,children:n.general})]})]})]})}}]),a}(n.Component),he={loginUser:function(e,t){return function(a){a({type:"LOADING_UI"}),A.a.post("/login",e).then((function(e){D(e.data.token),a(N()),a({type:"CLEAR_ERRORS"}),t.push("/")})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}},be=Object(f.b)((function(e){return{user:e.user,UI:e.UI}}),he)(H()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},customError:{color:"red",fontSize:"0.8rem",marginTop:10},progess:{position:"absolute"}}}))(ue)),Oe=a(178),xe=a.n(Oe),fe=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(i.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t={firstName:n.state.firstName,lastName:n.state.lastName,username:n.state.username,email:n.state.email,password:n.state.password,confirmPassword:n.state.confirmPassword,profession:n.state.profession};n.props.signupUser(t,n.props.history)},n.state={firstName:"",lastName:"",username:"",email:"",password:"",confirmPassword:"",profession:"",errors:[]},n}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors})}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.UI.loading,n=this.state.errors;return Object(G.jsxs)(je.a,{component:"main",maxWidth:"xs",children:[Object(G.jsx)(se.a,{}),Object(G.jsxs)("div",{className:t.paper,children:[Object(G.jsx)(ie.a,{className:t.avatar,children:Object(G.jsx)(xe.a,{})}),Object(G.jsx)(K.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(G.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(G.jsxs)(q.a,{container:!0,spacing:2,children:[Object(G.jsx)(q.a,{item:!0,xs:12,sm:6,children:Object(G.jsx)(le.a,{variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",name:"firstName",autoComplete:"firstName",helperText:n.firstName,error:!!n.firstName,onChange:this.handleChange})}),Object(G.jsx)(q.a,{item:!0,xs:12,sm:6,children:Object(G.jsx)(le.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lastName",helperText:n.lastName,error:!!n.lastName,onChange:this.handleChange})}),Object(G.jsx)(q.a,{item:!0,xs:12,sm:6,children:Object(G.jsx)(le.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"User Name",name:"username",autoComplete:"username",helperText:n.username,error:!!n.username,onChange:this.handleChange})}),Object(G.jsx)(q.a,{item:!0,xs:12,sm:6,children:Object(G.jsx)(le.a,{variant:"outlined",required:!0,fullWidth:!0,id:"profession",label:"Profession",name:"profession",autoComplete:"profession",helperText:n.profession,error:!!n.profession,onChange:this.handleChange})}),Object(G.jsx)(q.a,{item:!0,xs:12,children:Object(G.jsx)(le.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",helperText:n.email,error:!!n.email,onChange:this.handleChange})}),Object(G.jsx)(q.a,{item:!0,xs:12,children:Object(G.jsx)(le.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",helperText:n.password,error:!!n.password,onChange:this.handleChange})}),Object(G.jsx)(q.a,{item:!0,xs:12,children:Object(G.jsx)(le.a,{variant:"outlined",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",autoComplete:"current-password",onChange:this.handleChange})})]}),Object(G.jsxs)(L.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:this.handleSubmit,disabled:a||!this.state.email||!this.state.password||!this.state.firstName||!this.state.lastName||!this.state.username||!this.state.profession,children:["Sign Up",a&&Object(G.jsx)(pe.a,{size:30,className:t.progess})]}),Object(G.jsx)(q.a,{container:!0,justify:"flex-end",children:Object(G.jsx)(q.a,{item:!0,children:Object(G.jsx)(de.a,{href:"login",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})}}]),a}(n.Component),me=Object(f.b)((function(e){return{user:e.user,UI:e.UI}}),{signupUser:function(e,t){return function(a){a({type:"LOADING_UI"}),A.a.post("/signup",e).then((function(e){D(e.data.token),a(N()),a({type:"CLEAR_ERRORS"}),t.push("/")})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}}})(H()((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},progess:{position:"absolute"}}}))(fe)),ge=a(404),ye=a(395),ve=a(401),we=a(403),Ie=a(396),Ce=a(5),Se=(Object(Ce.a)((function(e){return{}}))(ye.a),Object(Ce.a)((function(e){return{}}))(Ie.a),n.Component,a(408)),Re=a(400),Te=a(398),Ee=a(399),Ae=a(397),_e=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={index:"",visit:"",body:"",dataType:"",options:[],buttonType:"",errors:{}},e.handleOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.props.clearErrors(),e.setState({open:!1,errors:{}})},e.handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a={index:e.state.index,body:e.state.body,dataType:e.state.dataType,visit:e.state.visit};e.props.postRow(e.props.categoryId,a)},e}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors}),e.UI.errors||e.UI.loading||this.setState({index:"",visit:"",body:"",dataType:"",open:!1})}},{key:"render",value:function(){var e=this,t=this.props.authenticated,a=this.state.errors,n=t?Object(G.jsxs)("div",{children:[Object(G.jsx)("center",{children:Object(G.jsx)(L.a,{size:"large",variant:"outlined",color:"primary",onClick:this.handleOpen,children:"Add New Row"})}),Object(G.jsxs)(Se.a,{fullWidth:!0,maxWidth:"lg",open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(Ae.a,{id:"form-dialog-title",children:"Add New Row"}),Object(G.jsxs)(Te.a,{children:[Object(G.jsx)(Ee.a,{children:"Placeholder"}),Object(G.jsx)("form",{onSubmit:this.handleSubmit,children:Object(G.jsxs)(Ie.a,{children:[Object(G.jsx)(ye.a,{style:{width:"10%"},align:"left",children:Object(G.jsx)(le.a,{id:"standard-basic",label:"Index",error:!!a.index,name:"index",type:"number",value:this.state.index,onChange:function(t){return e.handleChange(t)}})}),Object(G.jsx)(ye.a,{style:{width:"10%"},align:"left",children:Object(G.jsx)(le.a,{id:"standard-basic",label:"Visit",error:!!a.index,name:"visit",value:this.state.visit,onChange:function(t){return e.handleChange(t)}})}),Object(G.jsx)(ye.a,{style:{width:"60%"},align:"left",children:Object(G.jsx)(le.a,{id:"standard-basic",label:"Body",fullWidth:!0,error:!!a.index,name:"body",value:this.state.body,onChange:function(t){return e.handleChange(t)}})}),Object(G.jsx)(ye.a,{style:{width:"20%"},align:"left",children:Object(G.jsx)(le.a,{id:"standard-basic",label:"Data Type",error:!!a.index,name:"dataType",value:this.state.dataType,onChange:function(t){return e.handleChange(t)}})})]})})]}),Object(G.jsxs)(Re.a,{children:[Object(G.jsx)(L.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(G.jsx)(L.a,{onClick:this.handleSubmit,color:"primary",children:"Submit"})]})]})]}):null;return Object(G.jsx)("div",{children:n})}}]),a}(n.Component),Ne=Object(f.b)((function(e){return{UI:e.UI,authenticated:e.user.authenticated}}),{postRow:function(e,t){return function(a){a({type:"LOADING_UI"}),A.a.post("/category/".concat(e),t).then((function(e){a({type:"POST_ROW",payload:e.data}),a($())})).catch((function(e){a({type:"SET_ERRORS",payload:e.response.data})}))}},clearErrors:$})(_e),De=a(105),Ue=a.n(De),ke=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.handleDelete=function(){e.props.deleteRow(e.props.rowId),e.setState({open:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)(L.a,{onClick:this.handleOpen,children:Object(G.jsx)(Ue.a,{style:{color:"red"}})}),Object(G.jsxs)(Se.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm",children:[Object(G.jsx)(Ae.a,{children:"Are you sure you want to delete this row ?"}),Object(G.jsxs)(Re.a,{children:[Object(G.jsx)(L.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(G.jsx)(L.a,{onClick:this.handleDelete,color:"secondary",children:"Delete"})]})]})]})}}]),a}(n.Component),Pe=Object(f.b)(null,(function(e){return{deleteRow:function(t){return e(function(e){return function(t){t({type:"LOADING_UI"}),A.a.delete("/row/".concat(e)).then((function(){t({type:"DELETE_ROW",payload:e}),t({type:"STOP_LOADING_UI"})})).catch((function(e){return console.log(e)}))}}(t))}}}))(ke),We=a(127),Le=a.n(We),Ge=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={index:e.props.index,visit:e.props.visit,body:e.props.body,dataType:e.props.dataType,errors:{},open:!1},e.handleOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.props.clearErrors(),e.setState({open:!1,errors:{}})},e.handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a={index:e.state.index,body:e.state.body,dataType:e.state.dataType,visit:e.state.visit};e.props.editRow(e.props.rowId,a),e.setState({open:!1})},e}return Object(l.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.UI.errors&&this.setState({errors:e.UI.errors}),e.UI.errors||e.UI.loading||this.setState({rowId:this.props.rowId,index:this.props.index,visit:this.props.visit,body:this.props.body,dataType:this.props.dataType,open:!1})}},{key:"render",value:function(){var e=this,t=this.props.authenticated,a=this.state.errors,n=t?Object(G.jsxs)("div",{children:[Object(G.jsx)("center",{children:Object(G.jsx)(L.a,{size:"small",variant:"outlined",style:{color:"black"},onClick:this.handleOpen,children:Object(G.jsx)(Le.a,{})})}),Object(G.jsxs)(Se.a,{fullWidth:!0,maxWidth:"lg",open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(Ae.a,{id:"form-dialog-title",children:"Add New Row"}),Object(G.jsxs)(Te.a,{children:[Object(G.jsx)(Ee.a,{children:"Placeholder"}),Object(G.jsx)("form",{onSubmit:this.handleSubmit,children:Object(G.jsxs)(Ie.a,{children:[Object(G.jsx)(ye.a,{style:{width:"10%"},align:"left",children:Object(G.jsx)(le.a,{id:"standard-basic",label:"Index",error:!!a.index,name:"index",type:"number",value:this.state.index,onChange:function(t){return e.handleChange(t)}})}),Object(G.jsx)(ye.a,{style:{width:"10%"},align:"left",children:Object(G.jsx)(le.a,{id:"standard-basic",label:"Visit",error:!!a.index,name:"visit",value:this.state.visit,onChange:function(t){return e.handleChange(t)}})}),Object(G.jsx)(ye.a,{style:{width:"60%"},align:"left",children:Object(G.jsx)(le.a,{id:"standard-basic",fullWidth:!0,label:"Body",error:!!a.index,name:"body",value:this.state.body,onChange:function(t){return e.handleChange(t)}})}),Object(G.jsx)(ye.a,{style:{width:"20%"},align:"left",children:Object(G.jsx)(le.a,{id:"standard-basic",label:"Data Type",error:!!a.index,name:"dataType",value:this.state.dataType,onChange:function(t){return e.handleChange(t)}})})]})})]}),Object(G.jsxs)(Re.a,{children:[Object(G.jsx)(L.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(G.jsx)(L.a,{onClick:this.handleSubmit,color:"primary",children:"Submit"})]})]})]}):null;return Object(G.jsx)("div",{children:n})}}]),a}(n.Component),Ve=Object(f.b)((function(e){return{UI:e.UI,authenticated:e.user.authenticated}}),{editRow:function(e,t){return function(a){a({type:"LOADING_UI"}),A.a.put("/row/".concat(e),t).then((function(e){a({type:"EDIT_ROW",payload:e.data}),a({type:"STOP_LOADING_UI"})})).catch((function(e){return console.log(e)}))}},clearErrors:$})(Ge),Be=a(79),ze=a.n(Be),qe=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).approvedRow=function(){return!(!e.props.user.approves||!e.props.user.approves.find((function(t){return t.rowId===e.props.rowId})))},e.approveRow=function(){e.props.approveRow(e.props.rowId)},e.unapproveRow=function(){e.props.unapproveRow(e.props.rowId)},e}return Object(l.a)(a,[{key:"render",value:function(){return this.props.user.authenticated?this.approvedRow()?Object(G.jsx)(L.a,{onClick:this.unapproveRow,children:Object(G.jsx)(ze.a,{style:{color:"green"}})}):Object(G.jsx)(L.a,{onClick:this.approveRow,children:Object(G.jsx)(ze.a,{})}):Object(G.jsx)(p.b,{to:"/login",children:Object(G.jsx)(L.a,{children:Object(G.jsx)(ze.a,{})})})}}]),a}(n.Component),Fe={approveRow:function(e){return function(t){A.a.get("/row/".concat(e,"/like")).then((function(e){t({type:"APPROVE_ROW",payload:e.data})})).catch((function(e){return console.log(e)}))}},unapproveRow:function(e){return function(t){A.a.get("/row/".concat(e,"/unlike")).then((function(e){t({type:"UNAPPROVE_ROW",payload:e.data})})).catch((function(e){return console.log(e)}))}}},Xe=Object(f.b)((function(e){return{user:e.user}}),Fe)(qe),He=a(80),Me=a.n(He),Ye=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).disapprovedRow=function(){return!(!e.props.user.disapproves||!e.props.user.disapproves.find((function(t){return t.rowId===e.props.rowId})))},e.disapproveRow=function(){e.props.disapproveRow(e.props.rowId)},e.undoDisapproveRow=function(){e.props.undoDisapproveRow(e.props.rowId)},e}return Object(l.a)(a,[{key:"render",value:function(){return this.props.user.authenticated?this.disapprovedRow()?Object(G.jsx)(L.a,{onClick:this.undoDisapproveRow,children:Object(G.jsx)(Me.a,{style:{color:"red"}})}):Object(G.jsx)(L.a,{onClick:this.disapproveRow,children:Object(G.jsx)(Me.a,{})}):Object(G.jsx)(p.b,{to:"/login",children:Object(G.jsx)(L.a,{children:Object(G.jsx)(Me.a,{})})})}}]),a}(n.Component),Je={disapproveRow:function(e){return function(t){A.a.get("/row/".concat(e,"/dislike")).then((function(e){t({type:"DISAPPROVE_ROW",payload:e.data})})).catch((function(e){return console.log(e)}))}},undoDisapproveRow:function(e){return function(t){A.a.get("/row/".concat(e,"/undoDislike")).then((function(e){t({type:"UNDODISAPPROVE_ROW",payload:e.data})})).catch((function(e){return console.log(e)}))}}},Ke=Object(f.b)((function(e){return{user:e.user}}),Je)(Ye),Qe=a(402),Ze=a(180),$e=a.n(Ze),et=a(179),tt=a.n(et),at=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.handleDelete=function(){e.props.deleteOption(e.props.optionId),e.setState({open:!1})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)(L.a,{onClick:this.handleOpen,children:Object(G.jsx)(Ue.a,{style:{color:"red"}})}),Object(G.jsxs)(Se.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm",children:[Object(G.jsx)(Ae.a,{children:"Are you sure you want to delete this option ?"}),Object(G.jsxs)(Re.a,{children:[Object(G.jsx)(L.a,{onClick:this.handleClose,color:"primary",children:"Cancel"}),Object(G.jsx)(L.a,{onClick:this.handleDelete,color:"secondary",children:"Delete"})]})]})]})}}]),a}(n.Component),nt=Object(f.b)(null,(function(e){return{deleteOption:function(t){return e(function(e){return function(t){t({type:"LOADING_UI"}),A.a.delete("/option/".concat(e)).then((function(){t({type:"DELETE_ROW",payload:e}),t({type:"STOP_LOADING_UI"})})).catch((function(e){return console.log(e)}))}}(t))}}}))(at),rt=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={open:!1,oldPath:"",newPath:"",index:"",body:""},e.handleOpen=function(){var t=window.location.pathname,a=e.props,n=a.categoryId,r=a.rowId,o="/categories/".concat(n,"/row/").concat(r);t===o&&(t="/categories/".concat(n)),window.history.pushState(null,null,o),e.setState({open:!0,oldPath:t,newPath:o}),e.props.getRow(e.props.rowId)},e.handleClose=function(){window.history.pushState(null,null,e.state.oldPath),e.setState({open:!1}),e.props.clearErrors()},e.handleChange=function(t){e.setState(Object(i.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var a={index:e.state.index,body:e.state.body};e.props.postOption(e.props.rowId,a),e.setState({index:"",body:""})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.row,r=a.options,o=a.body,c=t.UI.loading?Object(G.jsx)("div",{children:Object(G.jsx)("center",{children:Object(G.jsx)(pe.a,{size:100,thickness:5})})}):Object(G.jsx)("div",{children:Object(G.jsx)("form",{children:Object(G.jsx)(ve.a,{children:Object(G.jsxs)(Qe.a,{children:[Object(G.jsx)(we.a,{children:Object(G.jsx)(Ie.a,{children:Object(G.jsx)(ye.a,{align:"left",colSpan:3,children:Object(G.jsxs)("b",{children:[o," Options:"]})})})}),Object(G.jsxs)(ge.a,{children:[null===r||void 0===r?void 0:r.map((function(e){return Object(G.jsxs)(Ie.a,{children:[Object(G.jsx)(ye.a,{style:{width:"15%"},children:e.index}),Object(G.jsx)(ye.a,{children:e.body}),Object(G.jsx)(ye.a,{children:Object(G.jsx)(nt,{optionId:e.optionId})})]})})),this.props.user.credentials.isAdmin?Object(G.jsxs)(Ie.a,{children:[Object(G.jsx)(ye.a,{children:Object(G.jsx)(le.a,{id:"standard-basic",label:"Index",name:"index",type:"number",value:this.state.index,onChange:function(t){return e.handleChange(t)}})}),Object(G.jsx)(ye.a,{children:Object(G.jsx)(le.a,{id:"standard-basic",label:"Body",fullWidth:!0,name:"body",value:this.state.body,onChange:function(t){return e.handleChange(t)}})}),Object(G.jsx)(ye.a,{children:Object(G.jsx)(L.a,{variant:"outlined",color:"primary",onClick:this.handleSubmit,children:"+"})})]}):null]})]})})})});return Object(G.jsxs)(n.Fragment,{children:[Object(G.jsx)(L.a,{onClick:this.handleOpen,children:Object(G.jsx)(tt.a,{color:"primary"})}),Object(G.jsxs)(Se.a,{open:this.state.open,onClose:this.handleClose,fullWidth:!0,maxWidth:"sm",children:[Object(G.jsx)(L.a,{onClick:this.handleClose,children:Object(G.jsx)($e.a,{})}),Object(G.jsx)(Te.a,{children:c})]})]})}}]),a}(n.Component),ot={getRow:function(e){return function(t){t({type:"LOADING_UI"}),A.a.get("/row/".concat(e)).then((function(e){t({type:"SET_ROW",payload:e.data}),console.log(e.data),t({type:"STOP_LOADING_UI"})})).catch((function(e){return console.log(e)}))}},clearErrors:$,postOption:function(e,t){return function(a){A.a.post("/row/".concat(e,"/option"),t).then((function(e){a({type:"POST_OPTION",payload:e.data}),console.log(e.data),a({type:"STOP_LOADING_UI"})})).catch((function(e){return console.log(e)}))}}},ct=Object(f.b)((function(e){return{row:e.data.row,UI:e.UI,user:e.user}}),ot)(rt),it=a(131),st=a(405),lt=Object(st.a)((function(e){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.paper},title:{margin:e.spacing(4,0,2)}}}));function dt(){var e=lt(),t=r.a.useState(!1),a=Object(it.a)(t,2),n=(a[0],a[1],r.a.useState(!1)),o=Object(it.a)(n,2);o[0],o[1];return Object(G.jsx)("div",{className:e.root,children:Object(G.jsx)(q.a,{container:!0,spacing:2,children:Object(G.jsx)(q.a,{item:!0,xs:12,children:Object(G.jsx)("div",{className:e.demo,children:Object(G.jsxs)(ee.a,{fullwidth:!0,children:[Object(G.jsx)(te.a,{fullwidth:!0,children:Object(G.jsx)(ae.a,{fullwidth:!0,primary:"Dylan McCaul",secondary:"We should change 2 to something else maybe"})}),Object(G.jsx)(te.a,{fullwidth:!0,children:Object(G.jsx)(ae.a,{fullwidth:!0,primary:"Sinead Impey",secondary:"'Comment about 1.1'"})}),Object(G.jsx)(te.a,{fullwidth:!0,children:Object(G.jsx)(ae.a,{fullwidth:!0,primary:"Gaye Stephens",secondary:"We should clarify index 3 with XXX"})})]})})})})})}var jt=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.categoryId;this.props.getCategory(e)}},{key:"render",value:function(){var e=this,t=this.props.match.params.categoryId,a=this.props.data,n=a.category,r=a.loading?Object(G.jsx)("p",{children:"Loading..."}):Object(G.jsxs)("div",{children:[Object(G.jsxs)("center",{children:[Object(G.jsx)("h1",{children:t}),Object(G.jsx)("h1",{children:" "})]}),Object(G.jsx)("br",{}),Object(G.jsx)(F.a,{children:Object(G.jsxs)(ve.a,{children:[Object(G.jsx)(we.a,{children:Object(G.jsxs)(Ie.a,{children:[Object(G.jsx)(ye.a,{style:{width:"5%"},align:"left",children:"Index"}),Object(G.jsx)(ye.a,{style:{width:"10%"},align:"left",children:"Clinic Visit"}),Object(G.jsx)(ye.a,{style:{width:"40%"},align:"left",children:"Info"}),Object(G.jsx)(ye.a,{style:{width:"10%"},align:"left",children:"Datatype"}),Object(G.jsx)(ye.a,{style:{width:"10%"},align:"left",children:"Options"}),Object(G.jsx)(ye.a,{style:{width:"5%"},align:"left",children:"Approve"}),Object(G.jsx)(ye.a,{style:{width:"5%"},align:"left",children:"Reject"}),Object(G.jsx)(ye.a,{style:{width:"5%"},align:"left",children:"Validate"}),this.props.user.credentials.isAdmin?Object(G.jsx)(ye.a,{style:{width:"5%"},align:"left"}):null,this.props.user.credentials.isAdmin?Object(G.jsx)(ye.a,{style:{width:"5%"},align:"left"}):null]})}),Object(G.jsx)(ge.a,{children:n.map((function(a){return Object(G.jsxs)(Ie.a,{children:[Object(G.jsx)(ye.a,{align:"left",children:a.index}),Object(G.jsx)(ye.a,{align:"left",children:a.visit}),a.index.length>1?Object(G.jsxs)(ye.a,{align:"left",children:[Object(G.jsx)("span",{}),a.body]}):Object(G.jsx)(ye.a,{align:"left",children:a.body}),Object(G.jsx)(ye.a,{align:"left",children:a.dataType}),Object(G.jsx)(ye.a,{align:"left",children:Object(G.jsx)(ct,{rowId:a.rowId,categoryId:t})}),Object(G.jsxs)(ye.a,{align:"center",children:[Object(G.jsx)(Xe,{rowId:a.rowId}),a.approveCount]}),Object(G.jsxs)(ye.a,{align:"center",children:[Object(G.jsx)(Ke,{rowId:a.rowId}),a.disapproveCount]}),Object(G.jsx)(ye.a,{align:"left"}),e.props.user.credentials.isAdmin?Object(G.jsx)(ye.a,{align:"center",children:Object(G.jsx)(Ve,{index:a.index,visit:a.visit,body:a.body,dataType:a.dataType,rowId:a.rowId,categoryId:t})}):null,e.props.user.credentials.isAdmin?Object(G.jsx)(ye.a,{align:"center",children:Object(G.jsx)(Pe,{rowId:a.rowId})}):null]},a.rowId)}))})]})}),Object(G.jsx)("br",{}),this.props.user.credentials.isAdmin?Object(G.jsx)(Ne,{categoryId:t}):null,Object(G.jsx)("br",{}),Object(G.jsx)("center",{children:Object(G.jsx)("h3",{children:"Comments"})}),Object(G.jsx)("br",{}),Object(G.jsx)(dt,{}),Object(G.jsx)(L.a,{children:"Submit Comment"})]});return Object(G.jsx)("div",{children:r})}}]),a}(n.Component),pt=Object(f.b)((function(e){return{data:e.data,user:e.user}}),{getCategory:function(e){return function(t){t({type:"LOADING_UI"}),A.a.get("/category/".concat(e)).then((function(e){t({type:"SET_CATEGORY",payload:e.data}),t({type:"STOP_LOADING_UI"})})).catch((function(){t({type:"SET_CATEGORY",payload:null})}))}}})(jt),ut=a(181),ht=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(G.jsx)("div",{children:Object(G.jsx)(ut.Bar,{data:{labels:["Dylan","Sinead","Gaye"],datasets:[{label:"Rows Approved",data:[21,43,55],borderColor:["rgba(46, 204, 41, 0.5)","rgba(46, 204, 41, 0.5)","rgba(46, 204, 41, 0.5)"],backgroundColor:["rgba(46, 204, 41, 0.5)","rgba(46, 204, 41, 0.5)","rgba(46, 204, 41, 0.5)"]},{label:"Rows Disapproved",data:[5,7,12],borderColor:["rgba(255, 0, 0, 0.5)","rgba(255, 0, 0, 0.5)","rgba(255, 0, 0, 0.5)"],backgroundColor:["rgba(255, 0, 0, 0.5)","rgba(255, 0, 0, 0.5)","rgba(255, 0, 0, 0.5)"]},{label:"Total Approves/Disapproved",data:[26,50,67],borderColor:["rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.5)"],backgroundColor:["rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.5)","rgba(0, 0, 0, 0.5)"]}]},options:{title:{display:!0,text:"Bar Chart"},scales:{yAxes:[{ticks:{min:0,max:70}}]}}})})}}]),a}(n.Component),bt=Object(x.a)({palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#ff3d00",dark:"#b22a00",contrastText:"#fff"}}}),Ot=localStorage.FBIdToken;Ot&&(1e3*Object(h.a)(Ot).exp<Date.now()?(T.dispatch(_()),window.location.href="/login"):(T.dispatch({type:"SET_AUTHENTICATED"}),A.a.defaults.headers.common.Authorization=Ot,T.dispatch(N())));var xt=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e;return Object(G.jsx)(O.a,{theme:bt,children:Object(G.jsx)(f.a,{store:T,children:Object(G.jsx)("div",{children:Object(G.jsx)(p.a,{children:Object(G.jsxs)("div",{className:"container",children:[Object(G.jsx)(V,{}),Object(G.jsxs)(u.Switch,{children:[Object(G.jsx)(u.Route,{exact:!0,path:"/",component:ce}),Object(G.jsx)(z,{exact:!0,path:"/login",component:be}),Object(G.jsx)(z,{exact:!0,path:"/signup",component:me}),Object(G.jsx)(u.Route,{exact:!0,path:"/categories/:categoryId",component:pt}),Object(G.jsx)(u.Route,(e={exact:!0},Object(i.a)(e,"exact",!0),Object(i.a)(e,"path","/dashboard"),Object(i.a)(e,"component",ht),e))]})]})})})})})}}]),a}(n.Component);c.a.render(Object(G.jsx)(r.a.StrictMode,{children:Object(G.jsx)(xt,{})}),document.getElementById("root"))}},[[352,1,2]]]);
//# sourceMappingURL=main.e2177aa7.chunk.js.map